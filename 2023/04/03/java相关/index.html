<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>随便玩玩</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="java相关刚开始学java，记录下几个不错的文章 CSDN上一个人写的一系列java安全笔记，由浅入深https:&#x2F;&#x2F;blog.csdn.net&#x2F;WDWAGAAFGAGDADSA&#x2F;article&#x2F;details&#x2F;121576284?spm&#x3D;1001.2014.3001.5502（&#x3D;&#x3D;但是我很少能看懂&#x3D;&#x3D;） java编程底层原理 编译型语言：有的编程语言要求必须提前将所有源代码一次性转换成二进制指">
<meta property="og:type" content="article">
<meta property="og:title" content="随便玩玩">
<meta property="og:url" content="http://example.com/2023/04/03/java%E7%9B%B8%E5%85%B3/index.html">
<meta property="og:site_name" content="随便玩玩">
<meta property="og:description" content="java相关刚开始学java，记录下几个不错的文章 CSDN上一个人写的一系列java安全笔记，由浅入深https:&#x2F;&#x2F;blog.csdn.net&#x2F;WDWAGAAFGAGDADSA&#x2F;article&#x2F;details&#x2F;121576284?spm&#x3D;1001.2014.3001.5502（&#x3D;&#x3D;但是我很少能看懂&#x3D;&#x3D;） java编程底层原理 编译型语言：有的编程语言要求必须提前将所有源代码一次性转换成二进制指">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="c:\Users\13920\Desktop\%E4%B8%8D%E7%9F%A5%E9%81%93%E8%83%BD%E7%94%A8%E5%A4%9A%E4%B9%85%E7%9A%84%E7%AC%94%E8%AE%B0\ctf\web\assets\1657511066062.png">
<meta property="og:image" content="c:\Users\13920\Desktop\%E4%B8%8D%E7%9F%A5%E9%81%93%E8%83%BD%E7%94%A8%E5%A4%9A%E4%B9%85%E7%9A%84%E7%AC%94%E8%AE%B0\ctf\web\assets\1657349913036.png">
<meta property="og:image" content="http://example.com/java%E7%9B%B8%E5%85%B3.assets/1679831144728.png">
<meta property="og:image" content="http://example.com/java%E7%9B%B8%E5%85%B3.assets/1679832214322.png">
<meta property="og:image" content="c:\Users\13920\Desktop\%E4%B8%8D%E7%9F%A5%E9%81%93%E8%83%BD%E7%94%A8%E5%A4%9A%E4%B9%85%E7%9A%84%E7%AC%94%E8%AE%B0\ctf\web\assets\1657520013273.png">
<meta property="og:image" content="c:\Users\13920\Desktop\%E4%B8%8D%E7%9F%A5%E9%81%93%E8%83%BD%E7%94%A8%E5%A4%9A%E4%B9%85%E7%9A%84%E7%AC%94%E8%AE%B0\ctf\web\assets\1657553984229.png">
<meta property="og:image" content="http://example.com/java%E7%9B%B8%E5%85%B3.assets/1680526940021.png">
<meta property="article:published_time" content="2023-04-03T15:10:58.118Z">
<meta property="article:modified_time" content="2023-04-03T13:05:52.194Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:\Users\13920\Desktop\%E4%B8%8D%E7%9F%A5%E9%81%93%E8%83%BD%E7%94%A8%E5%A4%9A%E4%B9%85%E7%9A%84%E7%AC%94%E8%AE%B0\ctf\web\assets\1657511066062.png">
  
    <link rel="alternate" href="/atom.xml" title="随便玩玩" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">随便玩玩</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-java相关" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/03/java%E7%9B%B8%E5%85%B3/" class="article-date">
  <time class="dt-published" datetime="2023-04-03T15:10:58.118Z" itemprop="datePublished">2023-04-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="java相关"><a href="#java相关" class="headerlink" title="java相关"></a>java相关</h1><p>刚开始学java，记录下几个不错的文章</p>
<p>CSDN上一个人写的一系列java安全笔记，由浅入深<a target="_blank" rel="noopener" href="https://blog.csdn.net/WDWAGAAFGAGDADSA/article/details/121576284?spm=1001.2014.3001.5502%EF%BC%88==%E4%BD%86%E6%98%AF%E6%88%91%E5%BE%88%E5%B0%91%E8%83%BD%E7%9C%8B%E6%87%82==%EF%BC%89">https://blog.csdn.net/WDWAGAAFGAGDADSA/article/details/121576284?spm=1001.2014.3001.5502（==但是我很少能看懂==）</a></p>
<h2 id="java编程"><a href="#java编程" class="headerlink" title="java编程"></a>java编程</h2><h3 id="底层原理"><a href="#底层原理" class="headerlink" title="底层原理"></a>底层原理</h3><ul>
<li>编译型语言：有的编程语言要求必须提前将所有源代码一次性转换成二进制指令，也就是生成一个可执行程序（Windows 下的 .exe），比如C语言、C++、Golang、Pascal（Delphi）、汇编等 </li>
<li>解释型语言：有的编程语言可以一边执行一边转换，需要哪些源代码就转换哪些源代码，不会生成可执行程序，比如 Python、JavaScript、PHP、Shell、MATLAB等</li>
</ul>
<p>java和c#属于版编译半解释型语言</p>
<p><img src="C:\Users\13920\Desktop\不知道能用多久的笔记\ctf\web\assets\1657511066062.png" alt="1657511066062"></p>
<h3 id="基础示例"><a href="#基础示例" class="headerlink" title="基础示例"></a>基础示例</h3><h4 id="命令执行"><a href="#命令执行" class="headerlink" title="命令执行"></a><strong>命令执行</strong></h4><p>显示当前操作系统</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String p=System.getProperty(<span class="string">&quot;os.name&quot;</span>);</span><br><span class="line">System.out.println(p);</span><br></pre></td></tr></table></figure>

<p>windows</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String [] cmd=&#123;<span class="string">&quot;cmd&quot;</span>,<span class="string">&quot;/C&quot;</span>,<span class="string">&quot;calc.exe&quot;</span>&#125;; </span><br><span class="line"><span class="type">Process</span> <span class="variable">proc</span> <span class="operator">=</span>Runtime.getRuntime().exec(cmd);</span><br></pre></td></tr></table></figure>

<p>linux</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String [] cmd=&#123;<span class="string">&quot;/bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;ls&quot;</span>&#125;; </span><br><span class="line"><span class="type">Process</span> <span class="variable">proc</span> <span class="operator">=</span>Runtime.getRuntime().exec(cmd);</span><br></pre></td></tr></table></figure>

<h4 id="简写"><a href="#简写" class="headerlink" title="简写"></a>简写</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] arr；<span class="comment">//定义数组时一般使用这种</span></span><br><span class="line"><span class="type">int</span> arr[]；</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="type">int</span> a=<span class="number">1</span>；<span class="comment">//常量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Caravan</span>&#123;<span class="comment">//抽象类，一个类不能同时被 abstract 和 final 修饰</span></span><br><span class="line">   <span class="keyword">private</span> <span class="type">double</span> price;</span><br><span class="line">   <span class="keyword">private</span> String model;</span><br><span class="line">   <span class="keyword">private</span> String year;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">goFast</span><span class="params">()</span>; <span class="comment">//抽象方法</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">changeColor</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ctrl+alt+l自动缩进</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//alt+insert自动创建构造函数和get、set函数</span></span><br><span class="line"><span class="comment">//长按shift选择多个</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//psvm+回车----&gt;public static void main()</span></span><br><span class="line"><span class="comment">//sout+回车----&gt;System.out.println();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//alt+enter自动命名实例化的对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//alt+鼠标选择 复制指定区域</span></span><br></pre></td></tr></table></figure>

<h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentManager</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        ArrayList&lt;Student&gt; array=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Student&gt;();</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;===欢迎===&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;1 add&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;2 delete&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;3 edit&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;4 show all&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;5 exit&quot;</span>);</span><br><span class="line"></span><br><span class="line">            Scanner sc=<span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">            <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span>sc.nextLine();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">switch</span>(line)&#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;1&quot;</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;add&quot;</span>);</span><br><span class="line">                    addStudent(array);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;2&quot;</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;delete&quot;</span>);<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;3&quot;</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;edit&quot;</span>);<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;4&quot;</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;show all&quot;</span>);<span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;5&quot;</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;exit&quot;</span>);</span><br><span class="line">                    System.exit(<span class="number">0</span>);<span class="comment">//JVm退出</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">addStudent</span><span class="params">(ArrayList&lt;Student&gt; array)</span>&#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;Please enter sid&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">sid</span> <span class="operator">=</span>sc.nextLine();</span><br><span class="line">        System.out.println(<span class="string">&quot;Please enter name&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span>sc.nextLine();</span><br><span class="line">        System.out.println(<span class="string">&quot;Please enter age&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">age</span> <span class="operator">=</span>sc.nextLine();</span><br><span class="line">        System.out.println(<span class="string">&quot;Please enter address&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">address</span> <span class="operator">=</span>sc.nextLine();</span><br><span class="line"></span><br><span class="line">        Student s=<span class="keyword">new</span> <span class="title class_">Student</span>(sid,name,age,address);</span><br><span class="line">        array.add(s);</span><br><span class="line">        System.out.println(<span class="string">&quot;add successfully&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="for-each循环"><a href="#for-each循环" class="headerlink" title="for each循环"></a>for each循环</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestArray</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">double</span>[] myList = &#123;<span class="number">1.9</span>, <span class="number">2.9</span>, <span class="number">3.4</span>, <span class="number">3.5</span>&#125;;</span><br><span class="line"> </span><br><span class="line">      <span class="comment">// 打印所有数组元素</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="type">double</span> element: myList) &#123;</span><br><span class="line">         System.out.println(element);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h3><p><img src="C:\Users\13920\Desktop\不知道能用多久的笔记\ctf\web\assets\1657349913036.png" alt="1657349913036"></p>
<p>接口中变量的前缀默认是public static final</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="遍历文件目录"><a href="#遍历文件目录" class="headerlink" title="遍历文件目录"></a>遍历文件目录</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] argv)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;遍历目录&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">dir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E://&quot;</span>); <span class="comment">//要遍历的目录</span></span><br><span class="line">        visitAllDirsAndFiles(dir);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">visitAllDirsAndFiles</span><span class="params">(File dir)</span> &#123;</span><br><span class="line">        System.out.println(dir);</span><br><span class="line">        <span class="keyword">if</span> (dir.isDirectory()) &#123;</span><br><span class="line">            String[] children = dir.list();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; children.length; i++) &#123;</span><br><span class="line">                visitAllDirsAndFiles(<span class="keyword">new</span> <span class="title class_">File</span>(dir, children[i]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Object 对象</span><br><span class="line">Class 类</span><br><span class="line">Field 属性</span><br><span class="line">Method 方法</span><br></pre></td></tr></table></figure>

<p>与反序列化有关</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Person.class</span></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span>+ <span class="string">&quot;name:&#x27;&quot;</span>+name+<span class="string">&#x27;\&#x27;&#x27;</span>+<span class="string">&quot;,age:&quot;</span>+age+<span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">action</span><span class="params">(String word)</span>&#123;</span><br><span class="line">        System.out.println(word);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo.class</span></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">demo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> person.getClass();</span><br><span class="line">        <span class="comment">//反射就是操作Class,上面两步等价于Class c=Person.class;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//从原型class里面实例化对象，c.newInstance()</span></span><br><span class="line">        <span class="type">Constructor</span> <span class="variable">personconstructor</span> <span class="operator">=</span> c.getConstructor(String.class, <span class="type">int</span>.class);</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p</span> <span class="operator">=</span> (Person) personconstructor.newInstance(<span class="string">&quot;abc&quot;</span>, <span class="number">22</span>);</span><br><span class="line">        System.out.println(p);<span class="comment">//Person&#123;name:&#x27;abc&#x27;,age:22&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//从类里获得属性,getFields()只获取public,getDeclaredFields()可获取全部</span></span><br><span class="line">        <span class="comment">//Field[] personfields = c.getFields();//public java.lang.String Person.name</span></span><br><span class="line">        Field[] personfields = c.getDeclaredFields();<span class="comment">//public java.lang.String Person.name private int Person.age</span></span><br><span class="line">        <span class="keyword">for</span> (Field f : personfields) &#123;</span><br><span class="line">            System.out.println(f);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//改变类的信息,若改变私有属性需要getDeclaredField和setAccessible(true)</span></span><br><span class="line">        <span class="type">Field</span> <span class="variable">namefield1</span> <span class="operator">=</span> c.getField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        namefield1.set(p, <span class="string">&quot;cara&quot;</span>);</span><br><span class="line">        System.out.println(p);<span class="comment">//Person&#123;name:&#x27;cara&#x27;,age:22&#125;</span></span><br><span class="line">        <span class="type">Field</span> <span class="variable">namefield2</span> <span class="operator">=</span> c.getDeclaredField(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">        namefield2.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        namefield2.set(p, <span class="number">25</span>);</span><br><span class="line">        System.out.println(p);<span class="comment">//Person&#123;name:&#x27;cara&#x27;,age:25&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//调用类的方法</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">actionmethod</span> <span class="operator">=</span>c.getMethod(<span class="string">&quot;action&quot;</span>,String.class);</span><br><span class="line">        actionmethod.invoke(p,<span class="string">&quot;afsadsadsad&quot;</span>);<span class="comment">//afsadsadsad</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>新版jdk似乎对setAccessibl(true)这个操作做出了限制，如果报错的话可以在run-&gt;edit configeration-&gt;modify options-&gt;add vm options里加上下面的语句，哪个包报错就把那个包设为unnamed</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.net=ALL-UNNAMED</span><br></pre></td></tr></table></figure>



<h3 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h3><p>java当中有三种方式来创建代理对象：静态代理，基于jdk(接口)的动态代理，基于CGLLIB（父类）的动态代理 </p>
<p><strong>静态代理</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BuyClothes</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">clothes</span><span class="params">(String size)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClothesFactory</span> <span class="keyword">implements</span> <span class="title class_">BuyClothes</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clothes</span><span class="params">(String size)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;给您大小为&quot;</span>+size+<span class="string">&quot;的衣服&quot;</span>);</span><br><span class="line">        <span class="comment">//ClothesFactory只需要生产衣服</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">proxy</span> <span class="keyword">implements</span> <span class="title class_">BuyClothes</span>&#123;</span><br><span class="line">    <span class="comment">//代理类中需要包含一个真实对象</span></span><br><span class="line">    <span class="keyword">public</span> ClothesFactory factory;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">proxy</span><span class="params">(ClothesFactory factory)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.factory=factory;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clothes</span><span class="params">(String size)</span>&#123;</span><br><span class="line">        Forwardservice();<span class="comment">//前置增强</span></span><br><span class="line">        factory.clothes(size);</span><br><span class="line">        Backwardservice();<span class="comment">//后置增强</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">Forwardservice</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;正在根据需求进行市场调研&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">Backwardservice</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;谢谢惠顾&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Customer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        ClothesFactory clothesfactory=<span class="keyword">new</span> <span class="title class_">ClothesFactory</span>();</span><br><span class="line">        proxy p=<span class="keyword">new</span> <span class="title class_">proxy</span>(clothesfactory);</span><br><span class="line">        p.clothes(<span class="string">&quot;xl&quot;</span>);</span><br><span class="line">        <span class="comment">//用户调用的是代理的clothes，从而间接调用ClotehsFactoryd的clothes</span></span><br><span class="line">        <span class="comment">//在这个代理的过程中，代理proxy在不改变ClothesFactory的情况下添加了额外功能       </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//正在根据需求进行市场调研</span></span><br><span class="line"><span class="comment">//给您大小为xl的衣服</span></span><br><span class="line"><span class="comment">//谢谢惠顾</span></span><br></pre></td></tr></table></figure>

<p><strong>基于jdk(接口)的动态代理</strong></p>
<p>结合反射</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BuyShoes</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">buyShoes</span><span class="params">(<span class="type">int</span> size)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShoesFactory</span> <span class="keyword">implements</span> <span class="title class_">BuyShoes</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buyShoes</span><span class="params">(<span class="type">int</span> size)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;给您大小为&quot;</span>+size+<span class="string">&quot;的鞋子&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">dynamicproxy</span> <span class="keyword">implements</span> <span class="title class_">InvocationHandler</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Object factory;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getFactory</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> factory;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFactory</span><span class="params">(Object factory)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.factory = factory;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        Forwardservice();</span><br><span class="line">        Object retObject=method.invoke(factory,args);<span class="comment">//类似反射</span></span><br><span class="line">        Backwardservice();</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getProxyInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        <span class="keyword">return</span> Proxy.newProxyInstance(factory.getClass().getClassLoader(), factory.getClass().getInterfaces(), <span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">Forwardservice</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;正在根据需求进行市场调研&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">Backwardservice</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;谢谢回顾&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Customer2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        ClothesFactory clothesFactory=<span class="keyword">new</span> <span class="title class_">ClothesFactory</span>();</span><br><span class="line">        ShoesFactory shoesFactory=<span class="keyword">new</span> <span class="title class_">ShoesFactory</span>();</span><br><span class="line">        dynamicproxy dp=<span class="keyword">new</span> <span class="title class_">dynamicproxy</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//代购买鞋子时</span></span><br><span class="line">        dp.setFactory(shoesFactory);</span><br><span class="line">        BuyShoes daigou1=(BuyShoes) dp.getProxyInstance();</span><br><span class="line">        daigou1.buyShoes(<span class="number">42</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//代购买衣服时</span></span><br><span class="line">        dp.setFactory(clothesFactory);</span><br><span class="line">        BuyClothes daigou2=(BuyClothes) dp.getProxyInstance();</span><br><span class="line">        daigou2.clothes(<span class="string">&quot;XL&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//正在根据需求进行市场调研</span></span><br><span class="line"><span class="comment">//给您大小为42的鞋子</span></span><br><span class="line"><span class="comment">//谢谢回顾</span></span><br><span class="line"><span class="comment">//正在根据需求进行市场调研</span></span><br><span class="line"><span class="comment">//给您大小为XL的衣服</span></span><br><span class="line"><span class="comment">//谢谢回顾</span></span><br></pre></td></tr></table></figure>

<h3 id="类的动态加载"><a href="#类的动态加载" class="headerlink" title="类的动态加载"></a>类的动态加载</h3><p><img src="/java%E7%9B%B8%E5%85%B3.assets/1679831144728.png" alt="1679831144728"></p>
<h4 id="静态代码块、构造代码块、构造函数、普通代码块"><a href="#静态代码块、构造代码块、构造函数、普通代码块" class="headerlink" title="静态代码块、构造代码块、构造函数、普通代码块"></a>静态代码块、构造代码块、构造函数、普通代码块</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test01</span> &#123;</span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;静态代码块&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;构造代码块&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Test01</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;无参构造函数&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;普通代码块&quot;</span>);</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;      </span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Test01</span>().print();      </span><br><span class="line">&#125;</span><br><span class="line">静态代码块</span><br><span class="line">构造代码块</span><br><span class="line">无参构造函数</span><br><span class="line">普通代码块</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Test01.class;    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//什么也没有，因为Class c的获取过程中只进行了类的加载而没有进行初始化</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;Test01&quot;</span>);    </span><br><span class="line">&#125;</span><br><span class="line">静态代码块<span class="comment">//观察forName的声明，可以看到可以人为定义是否初始化（initialize参数）类</span></span><br></pre></td></tr></table></figure>

<p><img src="/java%E7%9B%B8%E5%85%B3.assets/1679832214322.png" alt="1679832214322"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">cl</span> <span class="operator">=</span> ClassLoader.getSystemClassLoader();</span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;Test01&quot;</span>,<span class="literal">false</span>,cl);  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//什么也没有</span></span><br></pre></td></tr></table></figure>

<p>总结一下</p>
<ul>
<li>初始化：静态代码块</li>
<li>实例化：无参构造函数、构造代码块</li>
</ul>
<h4 id="双亲委派模型"><a href="#双亲委派模型" class="headerlink" title="双亲委派模型"></a>双亲委派模型</h4><p><img src="C:\Users\13920\Desktop\不知道能用多久的笔记\ctf\web\assets\1657520013273.png" alt="1657520013273"></p>
<p>classloader即类加载器，顾名思义作用是将class加载到JVM中</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u014634338/article/details/81434327">这里</a>有一些什么时候加载类什么时候不加载类的例子</p>
<p>双亲委托模型：避免重复加载，当父亲已经加载了该类的时候，就没有必要 ClassLoader再加载一次 。简单来说就是下面的加载器在加载一个类时会先询问上面的类（parent）是否加载过。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">URLClassLoader</span> <span class="variable">urlClassLoader</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">URLClassLoader</span>(<span class="keyword">new</span> <span class="title class_">URL</span>[]&#123;</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">URL</span>(<span class="string">&quot;file:///D:\\something maybe\\javaproject\\test02\\src\\&quot;</span>)&#125;);</span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span>urlClassLoader.loadClass(<span class="string">&quot;Test01&quot;</span>);</span><br><span class="line">        c.newInstance();</span><br><span class="line">静态代码块</span><br><span class="line">构造代码块</span><br><span class="line">构造函数        </span><br></pre></td></tr></table></figure>

<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Test.java</span></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Runtime.getRuntime().exec(<span class="string">&quot;calc&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sun.misc.Unsafe;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"><span class="keyword">import</span> java.net.URLClassLoader;</span><br><span class="line"><span class="keyword">import</span> java.nio.file.Files;</span><br><span class="line"><span class="keyword">import</span> java.nio.file.Paths;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Hello world!</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//        //把编译好的test.class移到E:\test\目录下，python http.server -m 9999开一个服务</span></span><br><span class="line"><span class="comment">//        URLClassLoader urlClassLoader = new URLClassLoader(new URL[]&#123;new URL(&quot;http://localhost:9999/&quot;)&#125;);//或者直接file:///E:\test\</span></span><br><span class="line"><span class="comment">//        Class&lt;?&gt; c = urlClassLoader.loadClass(&quot;Test&quot;);</span></span><br><span class="line"><span class="comment">//        c.newInstance();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        //使用defineClass加载任意类，大意是通过一个字节码加载一个类</span></span><br><span class="line"><span class="comment">//        //ClassLoader.defineClass加载一个类,私有</span></span><br><span class="line"><span class="comment">//        ClassLoader cl = ClassLoader.getSystemClassLoader();</span></span><br><span class="line"><span class="comment">//        Method defineClassMethod = ClassLoader.class.getDeclaredMethod(&quot;defineClass&quot;, String.class, byte[].class, int.class, int.class);</span></span><br><span class="line"><span class="comment">//        defineClassMethod.setAccessible(true);</span></span><br><span class="line"><span class="comment">//        byte[] code = Files.readAllBytes(Paths.get(&quot;E:\\test\\Test.class&quot;));</span></span><br><span class="line"><span class="comment">//        Class c = (Class) defineClassMethod.invoke(cl, &quot;Test&quot;, code, 0, code.length);</span></span><br><span class="line"><span class="comment">//        c.newInstance();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//Unsafe.defineClass加载一个类，共有，但类不能直接生成（有点类似Runtime，有一个getUnsafe），但Spring里可以</span></span><br><span class="line">        Class c= Unsafe.class;</span><br><span class="line">        Field theUnsafeField=c.getDeclaredField(<span class="string">&quot;theUnsafe&quot;</span>);</span><br><span class="line">        theUnsafeField.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        Unsafe unsafe=(Unsafe) theUnsafeField.get(<span class="literal">null</span>);</span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">cl</span> <span class="operator">=</span> ClassLoader.getSystemClassLoader();</span><br><span class="line">        <span class="type">byte</span>[] code = Files.readAllBytes(Paths.get(<span class="string">&quot;E:\\test\\Test.class&quot;</span>));</span><br><span class="line">        <span class="type">Class</span> <span class="variable">c1</span> <span class="operator">=</span> (Class) unsafe.defineClass(<span class="string">&quot;Test&quot;</span>, code, <span class="number">0</span>, code.length,cl,<span class="literal">null</span>);</span><br><span class="line">        c1.newInstance();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="java-web"><a href="#java-web" class="headerlink" title="java web"></a>java web</h3><p><strong>tomcat</strong></p>
<p><img src="C:\Users\13920\Desktop\不知道能用多久的笔记\ctf\web\assets\1657553984229.png" alt="1657553984229"></p>
<p>虚拟机里开启tomcat的方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ~/tomcat/apache-tomcat-9.0.64/bin/startup.sh</span><br><span class="line">sudo ~/tomcat/apache-tomcat-9.0.64/bin/shutdown.sh</span><br></pre></td></tr></table></figure>

<p>主机通过idea创建web项目，在浏览器查看结果的傻瓜教程</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/llplllll/article/details/116903198">https://blog.csdn.net/llplllll/article/details/116903198</a></p>
<h3 id="java命令执行"><a href="#java命令执行" class="headerlink" title="java命令执行"></a>java命令执行</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calc</span> &#123;</span><br><span class="line">    <span class="comment">//当前执行命令无回显</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        Runtime.getRuntime().exec(<span class="string">&quot;calc.exe&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>需要回显时</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Ping</span> &#123;</span><br><span class="line">    <span class="comment">//我们需要执行有回显得命令</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">Process</span> <span class="variable">process</span> <span class="operator">=</span> Runtime.getRuntime().exec(<span class="string">&quot;ping baidu.com&quot;</span>);</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> process.getInputStream();</span><br><span class="line">        <span class="type">InputStreamReader</span> <span class="variable">inputStreamReader</span> <span class="operator">=</span>  <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(inputStream);</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">inputBufferedReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(inputStreamReader);</span><br><span class="line">        StringBuilder stringBuilder=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span> ((line = inputBufferedReader.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">            stringBuilder.append(line);</span><br><span class="line">            System.out.println(line);</span><br><span class="line">        &#125;</span><br><span class="line">        inputBufferedReader.close();</span><br><span class="line">        inputBufferedReader=<span class="literal">null</span>;</span><br><span class="line">        inputStreamReader.close();</span><br><span class="line">        inputStreamReader=<span class="literal">null</span>;</span><br><span class="line">        inputStream.close();</span><br><span class="line">        inputStream=<span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>获取主机操作系统</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.getProperty(<span class="string">&quot;os.name&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>windows</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String [] cmd=&#123;<span class="string">&quot;cmd&quot;</span>,<span class="string">&quot;/C&quot;</span>,<span class="string">&quot;calc.exe&quot;</span>&#125;; </span><br><span class="line"><span class="type">Process</span> <span class="variable">proc</span> <span class="operator">=</span>Runtime.getRuntime().exec(cmd);</span><br></pre></td></tr></table></figure>

<p>linux</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String [] cmd=&#123;<span class="string">&quot;/bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;ls&quot;</span>&#125;; </span><br><span class="line"><span class="type">Process</span> <span class="variable">proc</span> <span class="operator">=</span>Runtime.getRuntime().exec(cmd);</span><br></pre></td></tr></table></figure>

<h2 id="不明原理的bug"><a href="#不明原理的bug" class="headerlink" title="不明原理的bug"></a>不明原理的bug</h2><ul>
<li><p>如果idea命令行输出中文乱码可以先运行下这句，然后就好了。。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(System.getProperty(<span class="string">&quot;file.encoding&quot;</span>));</span><br></pre></td></tr></table></figure>
</li>
<li><p>之前下载了jdk1.8之后不知什么时候主机的jdk版本就变成了1.8，明明我没有手动改过任何环境变量。为了使用burp换回jdk18的方法是上移环境变量-系统变量-Path中%JAVA_HOME%\bin的位置（JAVA_HOME此时是jdk18的）</p>
</li>
</ul>
<p><img src="/java%E7%9B%B8%E5%85%B3.assets/1680526940021.png" alt="1680526940021"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/03/java%E7%9B%B8%E5%85%B3/" data-id="clg0yytbp0001z4wx4qo1fo0w" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2023/03/17/%E5%B8%B8%E7%94%A8%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/04/03/java%E7%9B%B8%E5%85%B3/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/03/17/%E5%B8%B8%E7%94%A8%E5%88%86%E6%9E%90%E6%96%B9%E6%B3%95/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/03/13/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E5%9F%BA%E7%A1%80/">以太坊基础</a>
          </li>
        
          <li>
            <a href="/2023/03/13/solidity%E5%9F%BA%E7%A1%80/">solidity基础</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>